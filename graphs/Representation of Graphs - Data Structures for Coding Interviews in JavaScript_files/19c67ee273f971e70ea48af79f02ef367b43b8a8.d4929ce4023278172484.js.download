(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[35],{TgOH:function(e,n,t){"use strict";var i=t("HeVR"),o=t("dTB1"),l=t("RQNJ"),a=t("cZSR"),d=t("wHGx"),c=t("q2j6"),r=t("nO0O"),u=t("arbf"),s=t("guIr"),v=t("yZHS"),p=t.n(v),_=t("hdXE"),f=t("clVV"),h=t("fh7V"),g=t("LCSC"),m=t("8SmY"),b=t("jxKE"),O=t("cNmg"),y=t("AL10"),j=t("X1SN"),S=t("8com");function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){Object(s.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function P(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=Object(u.a)(e);if(n){var o=Object(u.a)(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return Object(r.a)(this,t)}}var M=function(e){var n=e.split("/");return n[1]===b.J.MODULE&&"preview"===n[n.length-1]};var k=Object(_.b)((function(e){var n=e.author,t=n.collection,i=n.profile,o=e.loader,l=e.search,a=e.dockerDetails;return{userInfo:e.user.info.data,collection:t,dockerDetails:a,profile:i,searchString:l.searchString,contentLoaded:o.isLoaded,contentLoading:o.isLoading}}),(function(e){return{dispatch:e,showEducativeBanner:function(n,t){return e(y.a.show(n,t))},hideEducativeBanner:function(n){return e(y.a.hide(n))}}}));n.a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(e){var t=function(t){Object(c.a)(u,t);var r=P(u);function u(){var e;Object(l.a)(this,u);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=r.call.apply(r,[this].concat(i)),Object(s.a)(Object(d.a)(e),"state",{cover_image:e.props.ssrContent?e.prepareCollectionCover(e.props.ssrContent):{},assessmentPagesMap:null,is_draft_page:"undefined"!==typeof n?n:e.props.router.asPath.endsWith("/preview")||e.props.router.asPath.endsWith("/draft"),isModuleOrPathPage:[b.J.MODULE,b.J.PATH].includes(Object(O.a)(e.props.router.asPath))}),Object(s.a)(Object(d.a)(e),"componentDidUpdate",(function(n){var t,i,o,l,a,d=e.props,c=d.dispatch,r=d.collection,u=d.router.query,s=u.collection_id,v=u.course_url_slug;s===n.router.query.collection_id&&v===n.router.query.course_url_slug||c(Object(f.lb)()),e.loadCollection(),Object.keys(e.state.cover_image).length||(Object.keys(r).length||!Object.keys(n.collection).length)&&(null===(t=n.collection)||void 0===t||null===(i=t.instance)||void 0===i||null===(o=i.details)||void 0===o?void 0:o.cover_image_id)===(null===r||void 0===r||null===(l=r.instance)||void 0===l||null===(a=l.details)||void 0===a?void 0:a.cover_image_id)||e.setState({cover_image:e.prepareCollectionCover(r)})})),Object(s.a)(Object(d.a)(e),"loadCollection",(function(){var n=e.state,t=n.is_draft_page,i=n.isModuleOrPathPage,l=e.props,a=l.collection,d=l.contentLoading,c=l.contentLoaded,r=l.router,u=r.query,s=u.author_id,v=u.collection_id,p=u.course_url_slug,_=u.path_author_id,h=u.path_id,g=r.asPath,b=0===Object.keys(a).length,O=1===Object.keys(a).length&&a.instance;d||c||!b&&!O||!(s||v||p)||e.props.dispatch(Object(f.F)({params:{author_id:s,collection_id:v,course_url_slug:p,path_author_id:_,path_id:h,is_draft_page:t},router:r,ignoreLoadingState:i,isModulePreview:M(g)})).then((function(){var n,t,i,l,a=null===(n=e.props.collection)||void 0===n||null===(t=n.instance)||void 0===t||null===(i=t.details)||void 0===i||null===(l=i.pages_with_dangling_concepts)||void 0===l?void 0:l.map((function(e){return e.page_id}));if(null!==a&&void 0!==a&&a.length){var d,c,r,u,s,v,p,_,f,h,g,b,O,y,j=null===(d=e.props.collection)||void 0===d||null===(c=d.instance)||void 0===c||null===(r=c.details)||void 0===r||null===(u=r.toc)||void 0===u?void 0:u.categories.filter((function(e){return"COLLECTION_ASSESSMENT"===e.type})).map((function(e){return e.id})),S=null===(s=e.props.collection)||void 0===s||null===(v=s.instance)||void 0===v||null===(p=v.details)||void 0===p||null===(_=p.toc)||void 0===_?void 0:_.categories.filter((function(e){return"COLLECTION_CATEGORY"===e.type})).flatMap((function(e){return e.pages.map((function(e){return e.page_id}))})),w=new Set(j),C=new Set(S);Object(o.a)(a).filter((function(e){return!w.has(e)&&!C.has(e)})).length&&Object(m.z)(null===(f=e.props.collection)||void 0===f||null===(h=f.instance)||void 0===h||null===(g=h.details)||void 0===g?void 0:g.author_id,null===(b=e.props.collection)||void 0===b||null===(O=b.instance)||void 0===O||null===(y=O.details)||void 0===y?void 0:y.collection_id,{assessment_ids:JSON.stringify(j)}).then((function(n){e.setState({assessmentPagesMap:JSON.parse(n)})})).catch((function(e){}))}}))})),e}return Object(a.a)(u,[{key:"componentDidMount",value:function(){this.loadCollection()}},{key:"componentWillUnmount",value:function(){var e,n,t=this.props,i=t.collection,o=t.dispatch,l=(null===i||void 0===i||null===(e=i.instance)||void 0===e?void 0:e.details.work_type)===b.J.PATH,a=null===i||void 0===i||null===(n=i.instance)||void 0===n?void 0:n.details.is_plan;o(Object(f.lb)()),!a&&l&&(o(j.b.clear()),o(S.b.clear()))}},{key:"prepareCollectionCover",value:function(e){var n,t,i,o,l,a,d,c,r,u,s,v=null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(t=n.details)||void 0===t?void 0:t.author_id,p=null===e||void 0===e||null===(i=e.instance)||void 0===i||null===(o=i.details)||void 0===o?void 0:o.collection_id,_=null===e||void 0===e||null===(l=e.instance)||void 0===l||null===(a=l.details)||void 0===a?void 0:a.cover_image_id;return _?{updated:!1,image_id:_,image:null!==(d=this.state)&&void 0!==d&&d.is_draft_page?"/api/author/".concat(v,"/collection/").concat(p,"/image/").concat(_):"/api/collection/".concat(v,"/").concat(p,"/image/").concat(_),metadata:null!==e&&void 0!==e&&null!==(c=e.instance)&&void 0!==c&&null!==(r=c.details)&&void 0!==r&&r.cover_image_metadata?JSON.parse(null===e||void 0===e||null===(u=e.instance)||void 0===u||null===(s=u.details)||void 0===s?void 0:s.cover_image_metadata):void 0}:{}}},{key:"render",value:function(){var n,t,o,l,a,d,c,r,u,s,v,p,_,f,g,m,b,O,y,j,S,w,P,k,E,D,L,T,J,x,A,R,N,B,F,H,I,q,U,Y,z,V,W,Z,G,X,K,Q,$,ee,ne,te,ie,oe,le,ae,de,ce,re,ue,se,ve,pe,_e,fe,he,ge,me,be,Oe,ye,je,Se,we=this.props,Ce=we.collection,Pe=we.dispatch,Me=we.userInfo,ke=we.searchString,Ee=we.contentLoaded,De=we.contentLoading,Le=we.profile,Te=we.match,Je=we.dockerDetails,xe=we.certificatePrice,Ae=we.ssrContent,Re=we.showEducativeBanner,Ne=we.hideEducativeBanner,Be=we.router,Fe=null!==(n=null===Ce||void 0===Ce||null===(t=Ce.instance)||void 0===t||null===(o=t.details)||void 0===o?void 0:o.author_id)&&void 0!==n?n:null===Ae||void 0===Ae||null===(l=Ae.instance)||void 0===l||null===(a=l.details)||void 0===a?void 0:a.author_id,He=null!==(d=null===Ce||void 0===Ce||null===(c=Ce.instance)||void 0===c||null===(r=c.details)||void 0===r?void 0:r.collection_id)&&void 0!==d?d:null===Ae||void 0===Ae||null===(u=Ae.instance)||void 0===u||null===(s=u.details)||void 0===s?void 0:s.collection_id,Ie="review"===(null===Ce||void 0===Ce||null===(v=Ce.instance)||void 0===v||null===(p=v.details)||void 0===p?void 0:p.collaboration_mode),qe=this.state,Ue=qe.cover_image,Ye=qe.is_draft_page,ze=qe.assessmentPagesMap,Ve=Ce&&(null===Ce||void 0===Ce||null===(_=Ce.instance)||void 0===_||null===(f=_.details)||void 0===f?void 0:f.CodeThemes)?{Code:null===Ce||void 0===Ce||null===(g=Ce.instance)||void 0===g||null===(m=g.details)||void 0===m||null===(b=m.CodeThemes)||void 0===b?void 0:b.Code,Markdown:null===Ce||void 0===Ce||null===(O=Ce.instance)||void 0===O||null===(y=O.details)||void 0===y||null===(j=y.CodeThemes)||void 0===j?void 0:j.Markdown,RunJS:null===Ce||void 0===Ce||null===(S=Ce.instance)||void 0===S||null===(w=S.details)||void 0===w||null===(P=w.CodeThemes)||void 0===P?void 0:P.RunJS,SPA:null===Ce||void 0===Ce||null===(k=Ce.instance)||void 0===k||null===(E=k.details)||void 0===E||null===(D=E.CodeThemes)||void 0===D?void 0:D.SPA,isForced:null!==(L=null===Ce||void 0===Ce||null===(T=Ce.instance)||void 0===T||null===(J=T.details)||void 0===J||null===(x=J.CodeThemes)||void 0===x?void 0:x.isForced)&&void 0!==L?L:h.a}:{},We=Ce&&(null===Ce||void 0===Ce||null===(A=Ce.instance)||void 0===A||null===(R=A.details)||void 0===R?void 0:R.code_exec_resource_metadata)?{file_id:null===Ce||void 0===Ce||null===(N=Ce.instance)||void 0===N||null===(B=N.details)||void 0===B||null===(F=B.code_exec_resource_metadata)||void 0===F?void 0:F.file_id,file_name:null===Ce||void 0===Ce||null===(H=Ce.instance)||void 0===H||null===(I=H.details)||void 0===I||null===(q=I.code_exec_resource_metadata)||void 0===q?void 0:q.file_name,file_size:null===Ce||void 0===Ce||null===(U=Ce.instance)||void 0===U||null===(Y=U.details)||void 0===Y||null===(z=Y.code_exec_resource_metadata)||void 0===z?void 0:z.file_size,file:null===Ce||void 0===Ce||null===(V=Ce.instance)||void 0===V||null===(W=V.details)||void 0===W||null===(Z=W.code_exec_resource_metadata)||void 0===Z?void 0:Z.file,updated:null===Ce||void 0===Ce||null===(G=Ce.instance)||void 0===G||null===(X=G.details)||void 0===X||null===(K=X.code_exec_resource_metadata)||void 0===K?void 0:K.updated,upload_url:null===Ce||void 0===Ce||null===(Q=Ce.instance)||void 0===Q||null===($=Q.details)||void 0===$||null===(ee=$.code_exec_resource_metadata)||void 0===ee?void 0:ee.upload_url,upload_success_url:null===Ce||void 0===Ce||null===(ne=Ce.instance)||void 0===ne||null===(te=ne.details)||void 0===te||null===(ie=te.code_exec_resource_metadata)||void 0===ie?void 0:ie.upload_success_url,gcs_object_name:null===Ce||void 0===Ce||null===(oe=Ce.instance)||void 0===oe||null===(le=oe.details)||void 0===le||null===(ae=le.code_exec_resource_metadata)||void 0===ae?void 0:ae.gcs_object_name,uploadStatus:null===Ce||void 0===Ce||null===(de=Ce.instance)||void 0===de||null===(ce=de.details)||void 0===ce||null===(re=ce.code_exec_resource_metadata)||void 0===re?void 0:re.uploadStatus}:{},Ze=(null===Ce||void 0===Ce||null===(ue=Ce.instance)||void 0===ue||null===(se=ue.details)||void 0===se?void 0:se.pricing_locked)||!1,Ge=null===Ce||void 0===Ce||null===(ve=Ce.instance)||void 0===ve||null===(pe=ve.details)||void 0===pe?void 0:pe.approval_status,Xe=null===Ce||void 0===Ce||null===(_e=Ce.instance)||void 0===_e||null===(fe=_e.details)||void 0===fe?void 0:fe.work_type,Ke=(null!==(he=null===Ce||void 0===Ce||null===(ge=Ce.instance)||void 0===ge||null===(me=ge.details)||void 0===me?void 0:me.read_time)&&void 0!==he?he:null===Ae||void 0===Ae||null===(be=Ae.instance)||void 0===be||null===(Oe=be.details)||void 0===Oe?void 0:Oe.read_time)||0,Qe={collection:Ce,author_id:Fe,collection_id:He,courseUrlSlug:null!==(ye=null===Ce||void 0===Ce||null===(je=Ce.instance)||void 0===je?void 0:je.details.url_slug)&&void 0!==ye?ye:null===Ae||void 0===Ae||null===(Se=Ae.instance)||void 0===Se?void 0:Se.details.url_slug,dispatch:Pe,userInfo:Me,searchString:ke,cover_image:Ue,codeExecResourceFile:We,contentLoaded:Ee,contentLoading:De,CodeThemes:Ve,profile:Le,match:Te,dockerDetails:Je,disableEdit:Ie,pricingLocked:Ze,approvalStatus:Ge,collectionType:Xe,courseReadTime:Ke,assessmentPagesMap:ze,certificatePrice:xe,showSideBar:this.props.showSideBar,ssrContent:Ae,isModulePreview:M(Be.asPath),showEducativeBanner:Re,hideEducativeBanner:Ne};return Object(i.jsx)(e,C({is_draft:Ye},Qe))}}]),u}(p.a.Component);return Object(s.a)(t,"defaultProps",{params:{},showSideBar:!1}),Object(g.withRouter)(k(t))}}},"tCh+":function(e,n,t){"use strict";t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return d}));var i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a=function(e){var n=function(e){return"0".concat(e).slice(-2)};return"".concat(e.getFullYear(),"-").concat(n(e.getMonth()+1),"-").concat(n(e.getDate()))};var d=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return"".concat(e>=60?Math.round(e/60):Math.ceil(e/60));var i=Math.floor(e/3600),o=Math.round(e%3600/60),l="".concat(i?"".concat(i).concat(t?" hour".concat(i>1?"s":""):"h"):""),a="".concat(o?"".concat(o).concat(t?" minutes":"min"):"");return i?"".concat(l," ").concat(a):o?"".concat(a):"".concat(Math.ceil(e/60)).concat(t?" minutes":"min")};n.b=function(e,n){var t=new Date(e),a=n.match(/[^A-Za-z0-9]/gi)[0],d=n.split(a);return d.forEach((function(e,n){d[n]=function(e,n){var t=e.length,a=e[0].charCodeAt();if(100===a||68===a){if(t<3)return n.getDate();if(t>=3)return l[n.getDay()-1]}if(109===a||77===a){if(t<3)return n.getMonth()+1;if(3===t)return o[n.getMonth()];if(t>=4)return i[n.getMonth()]}if(121===a||89===a){if(2===t)return n.getFullYear().toString().substring(4,2);if(4===t)return n.getFullYear()}return""}(e,t)})),d.join(a)}}}]);
//# sourceMappingURL=19c67ee273f971e70ea48af79f02ef367b43b8a8.d4929ce4023278172484.js.map